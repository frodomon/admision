<% provide(:title, "AELUCOOP - Admisión de Socios - Observaciones") %>
<p id="notice"><%= notice %></p>
  <div class="wrapper wrapper-content animated fadeInRight no-padding">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h1>Observaciones</h1>
        </div>
        <div class="ibox-content">
          <div class='table-responsive'>
            <table class="table table-stripped table-bordered table-hover datatable">
              <thead>
                <tr>
                  <th>DNI</th>
                  <th>Tipo Observación</th>
                  <th>Observacion</th>
                  <th></th>
                  <th></th>
                  <th></th>
                </tr>
              </thead>

              <tbody>
                <% @observations.each do |observation| %>
                  <tr>
                    <td><%= Request.find(observation.request_id).dni %></td>
                    <td><%= ObservationType.find(observation.observation_type_id).nombre %></td>
                    <td><%= observation.description %></td>
                    <td><%= link_to 'Show', observation %></td>
                    <td><%= link_to 'Edit', edit_observation_path(observation) %></td>
                    <td><%= link_to 'Destroy', observation, method: :delete, data: { confirm: 'Are you sure?' } %></td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

<br>
<div class='row'>
  <div class="col-lg-12">
    <%= link_to 'Nueva Observación', new_observation_path, class: 'btn btn-wm btn-success' %>
  </div>
  <%= button_to 'Volver', { controller: 'requests', action: 'index'}, method: :get, class: 'btn btn-w-m btn-info' %>
</div>

<% content_for :javascript do %>
  <script type="text/javascript">
    $(document).ready(function() {
        load_table_controls('datatable','Observaciones');
    });
  </script>
<% end %>
